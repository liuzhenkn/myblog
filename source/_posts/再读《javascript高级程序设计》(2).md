---
title: 再读《JavaScript高级程序设计》(2)
tags:
- JavaScript
- 读书笔记
---

### 第五章 引用类型

#### 引用类型都有哪些？
引用类型的值就是引用类型的一个实例，而对象就是引用类型的实例，所以我个人理解的是可以使用new+构造方法来进行对象新建的类型都属于引用类型。所以可能有如下类型：**（Object类型、Array类型、Date类型、RegExp类型、Function类型、基本包装类型和单体内置对象）**，接下来就总结一下自己重读后新的关注点吧。


<!-- more -->

#### Object类型
Object实例创建的两种方式：new Object() 或 对象字面量(如下：)。
```
var person = {
  name: "Jerry",
  age : 22
};
```
在实际使用时一般也都用对象字面量方式了啦。
#### Array类型
创建数组实例的方式与创建Object实例的方式相同，也是new Array() 和 数组字面量表示法。
每一个数组都有其length属性，特点是不仅可读，而且可写。另外就是大量的数组操作方法。。在这就不过多列举了，就说几个比较容易混淆的吧。
slice()方法基于当前数组创建一个新数组（不改变原数组），接收一个或两个参数，即返回数组项的起始位置和结束位置。(当参数为负数时，加上数组长度变成正的来看即可)
```
var colors = ['red','blue','green','yellow'];
var newColors = colors.slice(1,2);//['blue','green'];
```
splice()是很强大的方法，可以删除、插入、替换，splice()方法始终返回一个数组（返回的是从原数组删除的项，即会改变原数组）。
- 删除操作时，需要两个参数，要删除的第一个项的位置和要删除的个数。
- 插入操作时，需要三个参数，起始位置，0，要插入的项。
- 替换操作我想大家就能想到了，把插入操作时的0改为要替换的个数即可。

#### Date类型
我个人用的比较少，基本上就是var now = new Date(); 然后进行相应处理，不多说。

#### RegExp类型
通常我们使用这种方式来创建一个正则表达式。
```
var reg = /pattern/flags;   //模式和标志
```

#### Function类型
函数实际上是对象，每个函数都是Function的实例。
使用不带括号的函数名是访问函数指针，而不是调用函数。例如：
```
function sum (a,b){
  return a+b;
}
var anotherSum = sum;
var result1 = sum(2,2); //4
var result2 = anotherSum(3,3); //6
```
没有重载，只有重写，重载就是参数不同的时候调用的函数其实也不同。
在函数内部有两个特殊的对象，arguments和this，arguments对象是一个类数组对象，它有个callee属性，是一个指向拥有这个对象的函数，这样我们就可以通过arguments.callee()，来实现阶乘问题。
```
function factorial(num) {
  if (num <= 1){
    return 1;
  }else{
    return num*arguments.callee(num-1);
  }
}
```
this则引用的是函数据以执行的环境对象，我个人理解是调用这个函数的对象。
#### 基本包装类型
正好在知乎上有个问基本包装类型与基本类型的问题，基本包装类型有三种Boolean、Number和String，难道你们在使用时没有发现虽然说这三种是基本类型，但是他们有自己的属性和方法吗？
实际上是这样的：
```
var s1 = "some text"；
var s2 = s1.substring(2); //"me text"
```
在进行到第二行时，访问过程处于一种读取模式，也就是要从内存中读取这个字符串的值，此时后台会完成以下处理：
- 创建String类型的一个实例
- 实例上调用指定方法
- 销毁实例
```
var s1 = new String("some text");
var s2 = s1.substring(2);
s1 = null;
```
自动创建的基本包装类型的对象，在代码执行完后立刻销毁，所以不能运行时为基本类型添加属性和方法，当然我们可以手动创建基本包装类型的实例，实际上我们很少这么做，因为要记得是引用类型的不要和基本类型的值混了。
有很多方法就不赘述了，下一期会总结比较重要的继承和闭包的概念。
